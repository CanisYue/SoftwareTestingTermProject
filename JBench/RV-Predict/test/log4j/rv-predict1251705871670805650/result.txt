Data race on field org.apache.logging.log4j.core.net.TcpSocketManager$Reconnector.shutdown:
    Read in thread 30
      > at org.apache.logging.log4j.core.net.TcpSocketManager$Reconnector.run(TcpSocketManager.java:306)
    Thread 30 created by thread 1
        at org.apache.logging.log4j.core.net.TcpSocketManager.<init>(TcpSocketManager.java:145)

    Write in thread 1 holding locks WriteLock@810267739, WriteLock@2061543916, Monitor@1678709153
      > at org.apache.logging.log4j.core.net.TcpSocketManager$Reconnector.shutdown(TcpSocketManager.java:301)
        at org.apache.logging.log4j.core.net.TcpSocketManager.closeOutputStream(TcpSocketManager.java:238)
        - locked Monitor@1678709153 at org.apache.logging.log4j.core.net.TcpSocketManager.closeOutputStream(TcpSocketManager.java:n/a)
        at org.apache.logging.log4j.core.appender.OutputStreamManager.releaseSub(OutputStreamManager.java:136)
        at org.apache.logging.log4j.core.appender.AbstractManager.stop(AbstractManager.java:85)
        - locked WriteLock@2061543916 at java.util.concurrent.locks.ReentrantLock(ReentrantLock.java:n/a)
        at org.apache.logging.log4j.core.appender.AbstractOutputStreamAppender.stop(AbstractOutputStreamAppender.java:142)
        at org.apache.logging.log4j.core.appender.SocketAppender.stop(SocketAppender.java:250)
        at org.apache.logging.log4j.core.config.AbstractConfiguration.stop(AbstractConfiguration.java:354)
        at org.apache.logging.log4j.core.LoggerContext.stop(LoggerContext.java:351)
        - locked WriteLock@810267739 at java.util.concurrent.locks.ReentrantLock(ReentrantLock.java:n/a)
        at org.apache.logging.log4j.core.AbstractLifeCycle.stop(AbstractLifeCycle.java:136)
        at org.apache.logging.log4j.core.config.AdvertiserTest.testAdvertisementsAddedOnReconfigAfterStop(AdvertiserTest.java:118)
        at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
        at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
        at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
        at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
        at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
        at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
        at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
        at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
        at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
        at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
        at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
        at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
        at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
        at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
        at org.junit.runners.Suite.runChild(Suite.java:128)
        at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
        at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
        at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
        at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
        at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
        at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
        at org.apache.maven.surefire.junitcore.JUnitCore.run(JUnitCore.java:55)
        at org.apache.maven.surefire.junitcore.JUnitCoreWrapper.createRequestAndRun(JUnitCoreWrapper.java:137)
        at org.apache.maven.surefire.junitcore.JUnitCoreWrapper.executeEager(JUnitCoreWrapper.java:107)
        at org.apache.maven.surefire.junitcore.JUnitCoreWrapper.execute(JUnitCoreWrapper.java:83)
        at org.apache.maven.surefire.junitcore.JUnitCoreWrapper.execute(JUnitCoreWrapper.java:75)
        at org.apache.maven.surefire.junitcore.JUnitCoreProvider.invoke(JUnitCoreProvider.java:161)
        at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:290)
        at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:242)
        at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:121)
    Thread 1 is the main thread


